!function(n){var r={};function _(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,_),t.l=!0,t.exports}_.m=n,_.c=r,_.d=function(e,t,n){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(t,e){if(1&e&&(t=_(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)_.d(n,r,function(e){return t[e]}.bind(null,r));return n},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="",_(_.s="./src/blocks/src/index.js")}({"./src/blocks/src/ajax-channel-feed/block.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.scss */ \"./src/blocks/src/ajax-channel-feed/editor.scss\");\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_0__);\n//  Import CSS.\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar InspectorControls = wp.blockEditor.InspectorControls;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    TextControl = _wp$components.TextControl,\n    Dashicon = _wp$components.Dashicon;\n\nvar getShortcodeFromAttrs = function getShortcodeFromAttrs(attributes) {\n  var atts = ['widget_width', 'widget_height'].filter(function (att) {\n    return attributes[att];\n  }).map(function (att) {\n    return \"\".concat(att, \"=\\\"\").concat(attributes[att], \"\\\"\");\n  });\n  var text = '[wptelegram-ajax-widget';\n\n  if (atts.length) {\n    text += ' ' + atts.join(' ');\n  }\n\n  text += ']';\n  return text;\n};\n\nvar blockAttributes = {\n  widget_width: {\n    type: 'string',\n    \"default\": '100%'\n  },\n  widget_height: {\n    type: 'string',\n    \"default\": '600'\n  }\n};\nregisterBlockType('wptelegram/widget-ajax-channel-feed', {\n  title: __('Telegram Channel Ajax Feed'),\n  icon: 'format-aside',\n  category: 'widgets',\n  attributes: blockAttributes,\n  edit: function edit(_ref) {\n    var attributes = _ref.attributes,\n        setAttributes = _ref.setAttributes,\n        className = _ref.className;\n    var widget_width = attributes.widget_width,\n        widget_height = attributes.widget_height;\n    var controls = [/*#__PURE__*/React.createElement(InspectorControls, {\n      key: \"controls\"\n    }, /*#__PURE__*/React.createElement(PanelBody, {\n      title: __('Widget Options')\n    }, /*#__PURE__*/React.createElement(TextControl, {\n      label: __('Widget Width'),\n      value: widget_width,\n      onChange: function onChange(newWidth) {\n        return setAttributes({\n          widget_width: newWidth\n        });\n      }\n    }), /*#__PURE__*/React.createElement(TextControl, {\n      label: __('Widget Height'),\n      value: widget_height,\n      onChange: function onChange(newHeight) {\n        return setAttributes({\n          widget_height: newHeight\n        });\n      },\n      type: \"number\"\n    })))];\n    var label =\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-for\n    React.createElement(\"label\", null, /*#__PURE__*/React.createElement(Dashicon, {\n      icon: \"shortcode\"\n    }), /*#__PURE__*/React.createElement(\"span\", null, __('Telegram Channel Ajax Feed')));\n    var text = getShortcodeFromAttrs(attributes);\n    return [controls, /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      key: \"shortcode\"\n    }, label, /*#__PURE__*/React.createElement(\"code\", {\n      className: \"widget-shortcode\"\n    }, text))];\n  },\n  save: function save(_ref2) {\n    var attributes = _ref2.attributes;\n    var text = getShortcodeFromAttrs(attributes);\n    return /*#__PURE__*/React.createElement(\"div\", null, text);\n  }\n});\n\n//# sourceURL=webpack:///./src/blocks/src/ajax-channel-feed/block.js?")},"./src/blocks/src/ajax-channel-feed/editor.scss":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/blocks/src/ajax-channel-feed/editor.scss?")},"./src/blocks/src/channel-feed/block.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.scss */ "./src/blocks/src/channel-feed/editor.scss");\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_0__);\n//  Import CSS.\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar InspectorControls = wp.blockEditor.InspectorControls;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    RadioControl = _wp$components.RadioControl,\n    TextControl = _wp$components.TextControl,\n    Dashicon = _wp$components.Dashicon;\nvar blockAttributes = {\n  widget_width: {\n    type: \'string\',\n    "default": \'100\'\n  },\n  author_photo: {\n    type: \'string\',\n    "default": \'auto\'\n  },\n  num_messages: {\n    type: \'string\',\n    "default": \'5\'\n  }\n};\nregisterBlockType(\'wptelegram/widget-channel-feed\', {\n  title: __(\'Telegram Channel Feed\'),\n  icon: \'format-aside\',\n  category: \'widgets\',\n  attributes: blockAttributes,\n  edit: function edit(_ref) {\n    var attributes = _ref.attributes,\n        setAttributes = _ref.setAttributes,\n        className = _ref.className;\n    var widget_width = attributes.widget_width,\n        author_photo = attributes.author_photo,\n        num_messages = attributes.num_messages;\n    var controls = [/*#__PURE__*/React.createElement(InspectorControls, {\n      key: "controls"\n    }, /*#__PURE__*/React.createElement(PanelBody, {\n      title: __(\'Widget Options\')\n    }, /*#__PURE__*/React.createElement(TextControl, {\n      label: __(\'Widget Width\'),\n      value: widget_width,\n      onChange: function onChange(newWidth) {\n        return setAttributes({\n          widget_width: newWidth\n        });\n      },\n      type: "number",\n      min: "10",\n      max: "100"\n    }), /*#__PURE__*/React.createElement(RadioControl, {\n      label: __(\'Author Photo\'),\n      selected: author_photo,\n      onChange: function onChange(newStyle) {\n        return setAttributes({\n          author_photo: newStyle\n        });\n      },\n      options: [{\n        label: \'Auto\',\n        value: \'auto\'\n      }, {\n        label: \'Always show\',\n        value: \'always_show\'\n      }, {\n        label: \'Always hide\',\n        value: \'always_hide\'\n      }]\n    }), /*#__PURE__*/React.createElement(TextControl, {\n      label: __(\'Number of Messages\'),\n      value: num_messages,\n      onChange: function onChange(newValue) {\n        return setAttributes({\n          num_messages: newValue\n        });\n      },\n      type: "number",\n      min: "1",\n      max: "50"\n    })))];\n    var label =\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-for\n    React.createElement("label", null, /*#__PURE__*/React.createElement(Dashicon, {\n      icon: "shortcode"\n    }), /*#__PURE__*/React.createElement("span", null, __(\'Telegram Channel Feed\')));\n    var text = \'[wptelegram-widget\';\n    text += attributes.widget_width ? " widget_width=\\"".concat(attributes.widget_width, "\\"") : \'\';\n    text += " author_photo=\\"".concat(attributes.author_photo, "\\" num_messages=\\"").concat(attributes.num_messages, "\\"]");\n    return [controls, /*#__PURE__*/React.createElement("div", {\n      className: className,\n      key: "shortcode"\n    }, label, /*#__PURE__*/React.createElement("code", {\n      className: "widget-shortcode"\n    }, text))];\n  },\n  save: function save(_ref2) {\n    var attributes = _ref2.attributes;\n    var widget_width = attributes.widget_width,\n        author_photo = attributes.author_photo,\n        num_messages = attributes.num_messages;\n    var text = "[wptelegram-widget author_photo=\\"".concat(author_photo, "\\" num_messages=\\"").concat(num_messages, "\\"");\n    text += widget_width ? " widget_width=\\"".concat(widget_width, "\\"]") : \']\';\n    return /*#__PURE__*/React.createElement("div", null, text);\n  }\n});\n\n//# sourceURL=webpack:///./src/blocks/src/channel-feed/block.js?')},"./src/blocks/src/channel-feed/editor.scss":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/blocks/src/channel-feed/editor.scss?")},"./src/blocks/src/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ajax_channel_feed_block_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ajax-channel-feed/block.js */ "./src/blocks/src/ajax-channel-feed/block.js");\n/* harmony import */ var _channel_feed_block_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./channel-feed/block.js */ "./src/blocks/src/channel-feed/block.js");\n/* harmony import */ var _join_channel_block_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./join-channel/block.js */ "./src/blocks/src/join-channel/block.js");\n/* harmony import */ var _single_post_block_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./single-post/block.js */ "./src/blocks/src/single-post/block.js");\n/**\n * Gutenberg Blocks\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n\n\n\n\n//# sourceURL=webpack:///./src/blocks/src/index.js?')},"./src/blocks/src/join-channel/JoinButton.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _TelegramIcon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TelegramIcon */ "./src/blocks/src/join-channel/TelegramIcon.js");\n\nvar Button = wp.components.Button;\n\nvar JoinButton = function JoinButton(_ref) {\n  var link = _ref.link,\n      text = _ref.text,\n      isEditing = _ref.isEditing;\n  return /*#__PURE__*/React.createElement(Button, {\n    isLarge: true,\n    href: link,\n    className: "join-link",\n    icon: /*#__PURE__*/React.createElement(_TelegramIcon__WEBPACK_IMPORTED_MODULE_0__["default"], null),\n    target: isEditing ? \'_blank\' : null,\n    rel: "noopener noreferrer"\n  }, text);\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (JoinButton);\n\n//# sourceURL=webpack:///./src/blocks/src/join-channel/JoinButton.js?')},"./src/blocks/src/join-channel/TelegramIcon.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nvar _wp$components = wp.components,\n    G = _wp$components.G,\n    Path = _wp$components.Path,\n    SVG = _wp$components.SVG;\n\nvar TelegramIcon = function TelegramIcon(_ref) {\n  var _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \'#ffffff\' : _ref$fill;\n  return /*#__PURE__*/React.createElement(SVG, {\n    width: "19px",\n    height: "16px",\n    viewBox: "0 0 19 16"\n  }, /*#__PURE__*/React.createElement(G, {\n    fill: "none"\n  }, /*#__PURE__*/React.createElement(Path, {\n    fill: fill,\n    d: "M0.465,6.638 L17.511,0.073 C18.078,-0.145 18.714,0.137 18.932,0.704 C19.009,0.903 19.026,1.121 18.981,1.33 L16.042,15.001 C15.896,15.679 15.228,16.111 14.549,15.965 C14.375,15.928 14.211,15.854 14.068,15.748 L8.223,11.443 C7.874,11.185 7.799,10.694 8.057,10.345 C8.082,10.311 8.109,10.279 8.139,10.249 L14.191,4.322 C14.315,4.201 14.317,4.002 14.195,3.878 C14.091,3.771 13.926,3.753 13.8,3.834 L5.602,9.138 C5.112,9.456 4.502,9.528 3.952,9.333 L0.486,8.112 C0.077,7.967 -0.138,7.519 0.007,7.11 C0.083,6.893 0.25,6.721 0.465,6.638 Z"\n  })));\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (TelegramIcon);\n\n//# sourceURL=webpack:///./src/blocks/src/join-channel/TelegramIcon.js?')},"./src/blocks/src/join-channel/block.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.scss */ \"./src/blocks/src/join-channel/editor.scss\");\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _JoinButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JoinButton */ \"./src/blocks/src/join-channel/JoinButton.js\");\n/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls */ \"./src/blocks/src/join-channel/controls.js\");\n/* harmony import */ var _TelegramIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TelegramIcon */ \"./src/blocks/src/join-channel/TelegramIcon.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n//  Import CSS.\n\n\n\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType; // do not set defaults for link and text to avoid invalid block\n\nvar blockAttributes = {\n  link: {\n    type: 'string'\n  },\n  text: {\n    type: 'string'\n  },\n  alignment: {\n    type: 'string',\n    \"default\": 'center'\n  }\n};\nregisterBlockType('wptelegram/widget-join-channel', {\n  title: __('Join Telegram Channel'),\n  icon: /*#__PURE__*/React.createElement(_TelegramIcon__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n    fill: \"#555d66\"\n  }),\n  category: 'widgets',\n  attributes: blockAttributes,\n  getEditWrapperProps: function getEditWrapperProps(attributes) {\n    var alignment = attributes.alignment;\n\n    if (['left', 'center', 'right', 'wide', 'full'].includes(alignment)) {\n      return {\n        'data-align': alignment\n      };\n    }\n  },\n  edit: function edit(_ref) {\n    var attributes = _ref.attributes,\n        setAttributes = _ref.setAttributes,\n        className = _ref.className;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_controls__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n      attributes: attributes,\n      setAttributes: setAttributes\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      key: \"preview\"\n    }, /*#__PURE__*/React.createElement(_JoinButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _extends({}, attributes, {\n      isEditing: true\n    }))));\n  },\n  save: function save(_ref2) {\n    var attributes = _ref2.attributes;\n    var alignment = attributes.alignment;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: 'wp-block-wptelegram-widget-join-channel align' + alignment\n    }, /*#__PURE__*/React.createElement(_JoinButton__WEBPACK_IMPORTED_MODULE_1__[\"default\"], attributes));\n  }\n});\n\n//# sourceURL=webpack:///./src/blocks/src/join-channel/block.js?")},"./src/blocks/src/join-channel/controls.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var plugin_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plugin-data */ "plugin-data");\n/* harmony import */ var plugin_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(plugin_data__WEBPACK_IMPORTED_MODULE_0__);\n\nvar __ = wp.i18n.__;\nvar Fragment = wp.element.Fragment;\nvar _wp$blockEditor = wp.blockEditor,\n    InspectorControls = _wp$blockEditor.InspectorControls,\n    BlockControls = _wp$blockEditor.BlockControls,\n    BlockAlignmentToolbar = _wp$blockEditor.BlockAlignmentToolbar;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    TextControl = _wp$components.TextControl;\nvar useEffect = wp.element.useEffect;\nvar username = (plugin_data__WEBPACK_IMPORTED_MODULE_0__["blocks"] === null || plugin_data__WEBPACK_IMPORTED_MODULE_0__["blocks"] === void 0 ? void 0 : plugin_data__WEBPACK_IMPORTED_MODULE_0__["blocks"].username) || \'WPTelegram\';\n\nvar AllControls = function AllControls(_ref) {\n  var setAttributes = _ref.setAttributes,\n      attributes = _ref.attributes;\n  var alignment = attributes.alignment,\n      link = attributes.link,\n      text = attributes.text;\n  useEffect(function () {\n    if (!link) {\n      setAttributes({\n        link: "https://t.me/".concat(username)\n      });\n    }\n\n    if (!text) {\n      setAttributes({\n        text: "Join @".concat(username, " on Telegram")\n      });\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(InspectorControls, {\n    key: "controls"\n  }, /*#__PURE__*/React.createElement(PanelBody, {\n    title: __(\'Button details\')\n  }, /*#__PURE__*/React.createElement(TextControl, {\n    label: __(\'Channel Link\'),\n    value: link || \'\',\n    onChange: function onChange(newValue) {\n      return setAttributes({\n        link: newValue\n      });\n    },\n    type: "url"\n  }), /*#__PURE__*/React.createElement(TextControl, {\n    label: __(\'Button text\'),\n    value: text || \'\',\n    onChange: function onChange(newValue) {\n      return setAttributes({\n        text: newValue\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(BlockControls, null, /*#__PURE__*/React.createElement(BlockAlignmentToolbar, {\n    value: alignment,\n    onChange: function onChange(align) {\n      setAttributes({\n        alignment: align\n      });\n    }\n  })));\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (AllControls);\n\n//# sourceURL=webpack:///./src/blocks/src/join-channel/controls.js?')},"./src/blocks/src/join-channel/editor.scss":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/blocks/src/join-channel/editor.scss?")},"./src/blocks/src/single-post/block.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.scss */ \"./src/blocks/src/single-post/editor.scss\");\n/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _edit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./edit */ \"./src/blocks/src/single-post/edit.js\");\n//  Import CSS.\n\n\nvar __ = wp.i18n.__;\nvar registerBlockType = wp.blocks.registerBlockType;\nvar blockAttributes = {\n  url: {\n    type: 'string',\n    \"default\": ''\n  },\n  iframe_src: {\n    type: 'string',\n    \"default\": ''\n  },\n  userpic: {\n    type: 'boolean',\n    \"default\": true\n  },\n  alignment: {\n    type: 'string',\n    \"default\": 'center'\n  }\n};\nregisterBlockType('wptelegram/widget-single-post', {\n  title: __('Telegram Single Post'),\n  icon: 'format-aside',\n  category: 'widgets',\n  getEditWrapperProps: function getEditWrapperProps(attributes) {\n    var alignment = attributes.alignment;\n\n    if (['left', 'center', 'right', 'wide', 'full'].includes(alignment)) {\n      return {\n        'data-align': alignment\n      };\n    }\n  },\n  attributes: blockAttributes,\n  edit: _edit__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  save: function save(_ref) {\n    var attributes = _ref.attributes;\n    var alignment = attributes.alignment,\n        iframe_src = attributes.iframe_src;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: 'wp-block-wptelegram-widget-single-post wptelegram-widget-message align' + alignment\n    }, /*#__PURE__*/React.createElement(\"iframe\", {\n      title: \"Telegram post\",\n      frameBorder: \"0\",\n      scrolling: \"no\",\n      src: iframe_src\n    }, \"Your Browser Does Not Support iframes!\"));\n  },\n  deprecated: [{\n    attributes: blockAttributes,\n    save: function save(_ref2) {\n      var attributes = _ref2.attributes;\n      var alignment = attributes.alignment,\n          iframe_src = attributes.iframe_src;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: 'wp-block-wptelegram-widget-single-post wptelegram-widget-message align' + alignment\n      },\n      /*#__PURE__*/\n      // eslint-disable-next-line jsx-a11y/iframe-has-title\n      React.createElement(\"iframe\", {\n        frameBorder: \"0\",\n        scrolling: \"no\",\n        src: iframe_src\n      }, \"Your Browser Does Not Support iframes!\"));\n    }\n  }]\n});\n\n//# sourceURL=webpack:///./src/blocks/src/single-post/block.js?")},"./src/blocks/src/single-post/controls.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\nvar __ = wp.i18n.__;\nvar Fragment = wp.element.Fragment;\nvar _wp$blockEditor = wp.blockEditor,\n    InspectorControls = _wp$blockEditor.InspectorControls,\n    BlockControls = _wp$blockEditor.BlockControls,\n    BlockAlignmentToolbar = _wp$blockEditor.BlockAlignmentToolbar;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    Button = _wp$components.Button,\n    Toolbar = _wp$components.Toolbar,\n    ToggleControl = _wp$components.ToggleControl;\n\nvar AllControls = function AllControls(props) {\n  var userpic = props.userpic,\n      toggleUserPic = props.toggleUserPic,\n      showEditButton = props.showEditButton,\n      switchBackToURLInput = props.switchBackToURLInput,\n      alignment = props.alignment,\n      changeAlignment = props.changeAlignment;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(InspectorControls, null, /*#__PURE__*/React.createElement(PanelBody, {\n    title: __('Options')\n  }, /*#__PURE__*/React.createElement(ToggleControl, {\n    label: __('Author Photo'),\n    checked: userpic,\n    onChange: toggleUserPic\n  }))), /*#__PURE__*/React.createElement(BlockControls, null, /*#__PURE__*/React.createElement(BlockAlignmentToolbar, {\n    value: alignment,\n    onChange: changeAlignment\n  }), /*#__PURE__*/React.createElement(Toolbar, null, showEditButton && /*#__PURE__*/React.createElement(Button, {\n    className: \"components-toolbar__control\",\n    label: __('Edit URL'),\n    icon: \"edit\",\n    onClick: switchBackToURLInput\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AllControls);\n\n//# sourceURL=webpack:///./src/blocks/src/single-post/controls.js?")},"./src/blocks/src/single-post/edit.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var plugin_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plugin-data */ "plugin-data");\n/* harmony import */ var plugin_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(plugin_data__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _placeholder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./placeholder */ "./src/blocks/src/single-post/placeholder.js");\n/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controls */ "./src/blocks/src/single-post/controls.js");\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _wrapRegExp(re, groups) { _wrapRegExp = function _wrapRegExp(re, groups) { return new BabelRegExp(re, undefined, groups); }; var _RegExp = _wrapNativeSuper(RegExp); var _super = RegExp.prototype; var _groups = new WeakMap(); function BabelRegExp(re, flags, groups) { var _this = _RegExp.call(this, re, flags); _groups.set(_this, groups || _groups.get(re)); return _this; } _inherits(BabelRegExp, _RegExp); BabelRegExp.prototype.exec = function (str) { var result = _super.exec.call(this, str); if (result) result.groups = buildGroups(result, this); return result; }; BabelRegExp.prototype[Symbol.replace] = function (str, substitution) { if (typeof substitution === "string") { var groups = _groups.get(this); return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) { return "$" + groups[name]; })); } else if (typeof substitution === "function") { var _this = this; return _super[Symbol.replace].call(this, str, function () { var args = []; args.push.apply(args, arguments); if (_typeof(args[args.length - 1]) !== "object") { args.push(buildGroups(args, _this)); } return substitution.apply(this, args); }); } else { return _super[Symbol.replace].call(this, str, substitution); } }; function buildGroups(result, re) { var g = _groups.get(re); return Object.keys(g).reduce(function (groups, name) { groups[name] = result[g[name]]; return groups; }, Object.create(null)); } return _wrapRegExp.apply(this, arguments); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar _wp$element = wp.element,\n    Component = _wp$element.Component,\n    Fragment = _wp$element.Fragment,\n    createRef = _wp$element.createRef;\nvar __ = wp.i18n.__;\nvar _wp$components = wp.components,\n    FocusableIframe = _wp$components.FocusableIframe,\n    Spinner = _wp$components.Spinner;\nvar addQueryArgs = wp.url.addQueryArgs;\nvar message_view_url = plugin_data__WEBPACK_IMPORTED_MODULE_0__["blocks"].assets.message_view_url;\n\nvar Edit = /*#__PURE__*/function (_Component) {\n  _inherits(Edit, _Component);\n\n  var _super = _createSuper(Edit);\n\n  function Edit() {\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    _this = _super.apply(this, arguments);\n    _this.iframe_ref = createRef();\n    _this.switchBackToURLInput = _this.switchBackToURLInput.bind(_assertThisInitialized(_this));\n    _this.getIframeSrc = _this.getIframeSrc.bind(_assertThisInitialized(_this));\n    _this.toggleUserPic = _this.toggleUserPic.bind(_assertThisInitialized(_this));\n    _this.resizeIframe = _this.resizeIframe.bind(_assertThisInitialized(_this));\n    _this.setUrl = _this.setUrl.bind(_assertThisInitialized(_this));\n    _this.state = {\n      loading: true,\n      editingURL: false,\n      error: false,\n      url: _this.props.attributes.url,\n      userpic: _this.props.attributes.userpic,\n      iframe_height: null\n    };\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: "toggleUserPic",\n    value: function toggleUserPic() {\n      var userpic = !this.state.userpic;\n      var loading = true;\n      var iframe_src = this.props.attributes.iframe_src;\n      iframe_src = addQueryArgs(iframe_src, {\n        userpic: userpic\n      });\n      this.setState({\n        userpic: userpic,\n        loading: loading\n      });\n      this.props.setAttributes({\n        userpic: userpic,\n        iframe_src: iframe_src\n      });\n    }\n  }, {\n    key: "setUrl",\n    value: function setUrl(event) {\n      if (event) {\n        event.preventDefault();\n      }\n\n      var url = this.state.url;\n\n      var regex = /*#__PURE__*/_wrapRegExp(/^(?:https?:\\/\\/)?t\\.me\\/([a-z][0-9_a-z]{3,30}[0-9a-z])\\/([0-9]+)$/i, {\n        username: 1,\n        message_id: 2\n      });\n\n      var match = url.match(regex); // validate URL\n\n      if (null === match) {\n        this.setState({\n          error: true\n        });\n      } else {\n        var iframe_src = this.getIframeSrc(match.groups);\n        var setAttributes = this.props.setAttributes;\n        this.setState({\n          loading: true,\n          editingURL: false,\n          error: false\n        });\n        setAttributes({\n          url: url,\n          iframe_src: iframe_src\n        });\n      }\n    }\n  }, {\n    key: "getIframeSrc",\n    value: function getIframeSrc(data) {\n      return message_view_url.replace(\'%username%\', data.username).replace(\'%message_id%\', data.message_id).replace(\'%userpic%\', this.state.userpic);\n    }\n  }, {\n    key: "switchBackToURLInput",\n    value: function switchBackToURLInput() {\n      this.setState({\n        editingURL: true\n      });\n    }\n  }, {\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      window.addEventListener(\'resize\', this.resizeIframe);\n    }\n  }, {\n    key: "componentWillUnmount",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\'resize\', this.resizeIframe);\n    }\n  }, {\n    key: "resizeIframe",\n    value: function resizeIframe() {\n      if (null === this.iframe_ref.current || \'undefined\' === typeof this.iframe_ref.current.contentWindow) {\n        return;\n      }\n\n      var iframe_height = this.iframe_ref.current.contentWindow.document.body.scrollHeight;\n\n      if (iframe_height !== this.state.iframe_height) {\n        this.setState({\n          iframe_height: iframe_height\n        });\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          editingURL = _this$state.editingURL,\n          url = _this$state.url,\n          error = _this$state.error,\n          userpic = _this$state.userpic;\n      var _this$props = this.props,\n          className = _this$props.className,\n          setAttributes = _this$props.setAttributes;\n      var _this$props$attribute = this.props.attributes,\n          alignment = _this$props$attribute.alignment,\n          iframe_src = _this$props$attribute.iframe_src;\n\n      var label = __(\'Telegram post URL\');\n\n      if (editingURL || !iframe_src) {\n        return /*#__PURE__*/React.createElement(_placeholder__WEBPACK_IMPORTED_MODULE_1__["default"], {\n          label: label,\n          error: error,\n          url: url,\n          onChangeURL: function onChangeURL(event) {\n            return _this2.setState({\n              url: event.target.value\n            });\n          },\n          onSubmit: this.setUrl\n        });\n      }\n\n      var iframe_height = loading ? 0 : this.state.iframe_height;\n      return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(_controls__WEBPACK_IMPORTED_MODULE_2__["default"], {\n        userpic: userpic,\n        toggleUserPic: this.toggleUserPic,\n        showEditButton: true,\n        switchBackToURLInput: this.switchBackToURLInput,\n        alignment: alignment,\n        changeAlignment: function changeAlignment(align) {\n          _this2.resizeIframe();\n\n          setAttributes({\n            alignment: align\n          });\n        }\n      }), loading && /*#__PURE__*/React.createElement("div", {\n        className: "wp-block-embed is-loading"\n      }, /*#__PURE__*/React.createElement(Spinner, null), /*#__PURE__*/React.createElement("p", null, __(\'Loadingâ€¦\'))), /*#__PURE__*/React.createElement("div", {\n        className: className + \' wptelegram-widget-message\'\n      }, /*#__PURE__*/React.createElement("div", {\n        className: \'wp-block-embed__content-wrapper\'\n      }, /*#__PURE__*/React.createElement(FocusableIframe, {\n        iframeRef: this.iframe_ref,\n        frameBorder: "0",\n        scrolling: "no",\n        src: iframe_src,\n        onLoad: function onLoad() {\n          _this2.setState({\n            loading: false\n          });\n\n          _this2.resizeIframe();\n        },\n        height: iframe_height\n      }, "Your Browser Does Not Support iframes!"))));\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\n/* harmony default export */ __webpack_exports__["default"] = (Edit);\n\n//# sourceURL=webpack:///./src/blocks/src/single-post/edit.js?')},"./src/blocks/src/single-post/editor.scss":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/blocks/src/single-post/editor.scss?")},"./src/blocks/src/single-post/placeholder.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\nvar __ = wp.i18n.__;\nvar _wp$components = wp.components,\n    Button = _wp$components.Button,\n    Placeholder = _wp$components.Placeholder;\n\nvar EmbedPlaceholder = function EmbedPlaceholder(props) {\n  var label = props.label,\n      url = props.url,\n      onSubmit = props.onSubmit,\n      onChangeURL = props.onChangeURL,\n      error = props.error;\n  var style = error ? {\n    border: \'2px solid #f71717\'\n  } : {};\n  return /*#__PURE__*/React.createElement(Placeholder, {\n    icon: "wordpress-alt",\n    label: label,\n    className: "wp-block-embed-telegram"\n  }, /*#__PURE__*/React.createElement("form", {\n    onSubmit: onSubmit\n  }, /*#__PURE__*/React.createElement("input", {\n    style: style,\n    type: "url",\n    value: url || \'\',\n    className: "components-placeholder__input",\n    "aria-label": label,\n    placeholder: "https://t.me/WPTelegram/102",\n    onChange: onChangeURL\n  }), /*#__PURE__*/React.createElement(Button, {\n    isLarge: true,\n    type: "submit"\n  }, __(\'Embed\'))));\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (EmbedPlaceholder);\n\n//# sourceURL=webpack:///./src/blocks/src/single-post/placeholder.js?')},"plugin-data":function(module,exports){eval("module.exports = wptelegram_widget;\n\n//# sourceURL=webpack:///external_%22wptelegram_widget%22?")}});