{"version":3,"file":"blocks-julc0XBh.js","sources":["../../../../node_modules/.vite_external/@wordpress_block-editor.js","../../../../node_modules/.vite_external/@wordpress_blocks.js","../../../../node_modules/.vite_external/@wordpress_components.js","../../../../node_modules/.vite_external/@wordpress_element.js","../../../../../../packages/js/utilities/blocks.ts","../../../../js/blocks/ajax-channel-feed/Output.tsx","../../../../js/blocks/ajax-channel-feed/Edit.tsx","../../../../js/blocks/ajax-channel-feed/constants.ts","../../../../js/blocks/ajax-channel-feed/index.tsx","../../../../js/blocks/channel-feed/Output.tsx","../../../../js/blocks/channel-feed/Edit.tsx","../../../../js/blocks/channel-feed/constants.ts","../../../../js/blocks/channel-feed/index.tsx","../../../../js/blocks/getDomData.ts","../../../../js/blocks/join-channel/Controls.tsx","../../../../js/blocks/join-channel/TelegramIcon.tsx","../../../../js/blocks/join-channel/JoinButton.tsx","../../../../js/blocks/join-channel/constants.ts","../../../../js/blocks/join-channel/index.tsx","../../../../node_modules/.vite_external/@wordpress_compose.js","../../../../node_modules/.vite_external/@wordpress_url.js","../../../../js/blocks/single-post/Controls.tsx","../../../../js/blocks/single-post/Placeholder.tsx","../../../../js/blocks/single-post/Edit.tsx","../../../../js/blocks/single-post/constants.ts","../../../../js/blocks/single-post/index.tsx"],"sourcesContent":["module.exports = wp.blockEditor;","module.exports = wp.blocks;","module.exports = wp.components;","module.exports = wp.element;","export const buildShortCodeFromAtts = (\n\tattributes: Record<string, unknown>,\n\tallowedAtts: Array<string>,\n\tshrotcode: string,\n): string => {\n\tconst attsKV = allowedAtts\n\t\t.filter((att) => attributes?.[att])\n\t\t.map((att) => `${att}=\"${attributes[att]}\"`);\n\n\tconst atts = attsKV.length ? ` ${attsKV.join(' ')}` : '';\n\n\treturn `[${shrotcode} ${atts}]`;\n};\n","import { buildShortCodeFromAtts } from '@wpsocio/utilities/blocks';\n\nconst allowedAtts = ['widget_width', 'widget_height', 'username'];\nconst shortcode = 'wptelegram-ajax-widget';\n\nexport const Output: React.FC<{\n\tattributes: Record<string, string | number>;\n}> = ({ attributes }) => {\n\treturn <>{buildShortCodeFromAtts(attributes, allowedAtts, shortcode)}</>;\n};\n","import { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport type { BlockEditProps } from '@wordpress/blocks';\nimport { Dashicon, Flex, PanelBody, TextControl } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\nimport { __, sprintf } from '@wpsocio/i18n';\n\nimport type { AjaxWidgetAtts } from '../types';\nimport { Output } from './Output';\n\nconst savedSettings = (window.wptelegram_widget?.savedSettings ||\n\t{}) as AjaxWidgetAtts;\n\nexport const Edit: React.FC<BlockEditProps<AjaxWidgetAtts>> = ({\n\tattributes,\n\tsetAttributes,\n}) => {\n\tconst { widget_width, widget_height, username } = attributes;\n\n\tconst onChangeWidth = useCallback(\n\t\t(newWidth: string) => setAttributes({ widget_width: newWidth }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeHeight = useCallback(\n\t\t(newHeight: string) => setAttributes({ widget_height: newHeight }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeUsername = useCallback(\n\t\t(newUsername: string) =>\n\t\t\tsetAttributes({ username: newUsername?.replace('@', '') }),\n\t\t[setAttributes],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Widget Options')}>\n\t\t\t\t\t<Flex direction=\"column\" gap={4}>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Username')}\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tonChange={onChangeUsername}\n\t\t\t\t\t\t\thelp={sprintf(\n\t\t\t\t\t\t\t\t'%s %s',\n\t\t\t\t\t\t\t\t__('Channel username.'),\n\t\t\t\t\t\t\t\t__('Leave empty for default.'),\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tplaceholder={savedSettings?.username || 'WPTelegram'}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Widget Width')}\n\t\t\t\t\t\t\tvalue={widget_width}\n\t\t\t\t\t\t\tonChange={onChangeWidth}\n\t\t\t\t\t\t\tplaceholder={`300 ${__('or')} 100%`}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Widget Height')}\n\t\t\t\t\t\t\tvalue={widget_height}\n\t\t\t\t\t\t\tonChange={onChangeHeight}\n\t\t\t\t\t\t\tplaceholder={`300 ${__('or')} 100%`}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Flex>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div {...useBlockProps()}>\n\t\t\t\t<div className=\"widget-label\">\n\t\t\t\t\t<Dashicon icon=\"shortcode\" />\n\t\t\t\t\t<span>{__('Telegram Channel Ajax Feed')}</span>\n\t\t\t\t</div>\n\t\t\t\t<code className=\"widget-shortcode\">\n\t\t\t\t\t<Output attributes={attributes} />\n\t\t\t\t</code>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { AjaxWidgetAtts } from '../types';\n\nexport const blockAttributes: Block<AjaxWidgetAtts>['attributes'] = {\n\tusername: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\twidget_width: {\n\t\ttype: 'string',\n\t\tdefault: '100%',\n\t},\n\twidget_height: {\n\t\ttype: 'string',\n\t\tdefault: '600',\n\t},\n};\n","import { useBlockProps } from '@wordpress/block-editor';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wpsocio/i18n';\n\nimport type { AjaxWidgetAtts } from '../types';\nimport { Edit } from './Edit';\nimport { Output } from './Output';\nimport { blockAttributes } from './constants';\n\nimport './style.scss';\n\nregisterBlockType<AjaxWidgetAtts>('wptelegram/widget-ajax-channel-feed', {\n\tapiVersion: 3,\n\ttitle: __('Telegram Channel Ajax Feed'),\n\ticon: 'format-aside',\n\tcategory: 'wptelegram',\n\tattributes: blockAttributes,\n\tedit: Edit,\n\tsave: ({ attributes }) => {\n\t\treturn (\n\t\t\t<div {...useBlockProps.save()}>\n\t\t\t\t<Output attributes={attributes} />\n\t\t\t</div>\n\t\t);\n\t},\n});\n","import { buildShortCodeFromAtts } from '@wpsocio/utilities/blocks';\n\nconst allowedAtts = ['author_photo', 'num_messages', 'widget_width'];\nconst shortcode = 'wptelegram-widget';\n\nexport const Output: React.FC<{\n\tattributes: Record<string, string | number>;\n}> = ({ attributes }) => {\n\treturn <>{buildShortCodeFromAtts(attributes, allowedAtts, shortcode)}</>;\n};\n","import { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport type { BlockEditProps } from '@wordpress/blocks';\nimport {\n\tDashicon,\n\tFlex,\n\tPanelBody,\n\tRadioControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport type { LegacyWidgetAtts } from '../types';\nimport { Output } from './Output';\n\nconst getAuthorPhotoOptions = () => [\n\t{ label: 'Auto', value: 'auto' },\n\t{ label: 'Always show', value: 'always_show' },\n\t{ label: 'Always hide', value: 'always_hide' },\n];\n\nexport const Edit: React.FC<BlockEditProps<LegacyWidgetAtts>> = ({\n\tattributes,\n\tsetAttributes,\n}) => {\n\tconst { widget_width, author_photo, num_messages } = attributes;\n\n\tconst onChangeAuthorPhoto = useCallback(\n\t\t(newStyle: string) =>\n\t\t\tsetAttributes({\n\t\t\t\tauthor_photo: newStyle as LegacyWidgetAtts['author_photo'],\n\t\t\t}),\n\t\t[setAttributes],\n\t);\n\tconst onChangeWidth = useCallback(\n\t\t(newWidth: string) =>\n\t\t\tsetAttributes({\n\t\t\t\twidget_width: newWidth as LegacyWidgetAtts['widget_width'],\n\t\t\t}),\n\t\t[setAttributes],\n\t);\n\tconst onChangeNum = useCallback(\n\t\t(newValue: string) =>\n\t\t\tsetAttributes({\n\t\t\t\tnum_messages: (Number.parseInt(newValue) || 5).toString(),\n\t\t\t}),\n\t\t[setAttributes],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Widget Options')}>\n\t\t\t\t\t<Flex direction=\"column\" gap={4}>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Widget Width')}\n\t\t\t\t\t\t\tvalue={widget_width}\n\t\t\t\t\t\t\tonChange={onChangeWidth}\n\t\t\t\t\t\t\tplaceholder={`300 ${__('or')} 100%`}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tlabel={__('Author Photo')}\n\t\t\t\t\t\t\tselected={author_photo}\n\t\t\t\t\t\t\tonChange={onChangeAuthorPhoto}\n\t\t\t\t\t\t\toptions={getAuthorPhotoOptions()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Number of Messages')}\n\t\t\t\t\t\t\tvalue={num_messages}\n\t\t\t\t\t\t\tonChange={onChangeNum}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tmax=\"50\"\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Flex>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div {...useBlockProps()} key=\"shortcode\">\n\t\t\t\t<div className=\"widget-label\">\n\t\t\t\t\t<Dashicon icon=\"shortcode\" />\n\t\t\t\t\t<span>{__('Telegram Channel Feed')}</span>\n\t\t\t\t</div>\n\t\t\t\t<code className=\"widget-shortcode\">\n\t\t\t\t\t<Output attributes={attributes} />\n\t\t\t\t</code>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { LegacyWidgetAtts } from '../types';\n\nexport const blockAttributes: Block<LegacyWidgetAtts>['attributes'] = {\n\twidget_width: {\n\t\ttype: 'string',\n\t\tdefault: '100',\n\t},\n\tauthor_photo: {\n\t\ttype: 'string',\n\t\tdefault: 'auto',\n\t},\n\tnum_messages: {\n\t\ttype: 'string',\n\t\tdefault: '5',\n\t},\n};\n","import { useBlockProps } from '@wordpress/block-editor';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wpsocio/i18n';\n\nimport { Edit } from './Edit';\nimport { Output } from './Output';\nimport { blockAttributes } from './constants';\n\nimport './style.scss';\n\nregisterBlockType('wptelegram/widget-channel-feed', {\n\tapiVersion: 3,\n\ttitle: __('Telegram Channel Feed'),\n\ticon: 'format-aside',\n\tcategory: 'wptelegram',\n\tattributes: blockAttributes,\n\tedit: Edit,\n\tsave: ({ attributes }) => {\n\t\treturn (\n\t\t\t<div {...useBlockProps.save()}>\n\t\t\t\t<Output attributes={attributes} />\n\t\t\t</div>\n\t\t);\n\t},\n});\n","import { getPluginData } from '@wpsocio/services/get-plugin-data.js';\nimport type { WPTelegramWidgetData } from './types';\n\nexport const getDomData = <\n\tK extends keyof WPTelegramWidgetData | undefined = undefined,\n>(\n\tkey?: K,\n): K extends keyof WPTelegramWidgetData\n\t? WPTelegramWidgetData[K]\n\t: WPTelegramWidgetData => {\n\treturn getPluginData('wptelegram_widget', key);\n};\n","import {\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport { Flex, PanelBody, TextControl } from '@wordpress/components';\nimport { Fragment, useCallback, useEffect } from '@wordpress/element';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { getDomData } from '../getDomData';\nimport type { JoinChannelAtts } from '../types';\n\nexport type ControlsProps = {\n\tsetAttributes: (newAttributes: Partial<JoinChannelAtts>) => void;\n\tattributes: JoinChannelAtts;\n};\n\nexport const Controls: React.FC<ControlsProps> = ({\n\tsetAttributes,\n\tattributes,\n}) => {\n\tconst { alignment, link, text } = attributes;\n\n\tconst { join_link_text, join_link_url } = getDomData('uiData');\n\n\tuseEffect(() => {\n\t\tif (!link) {\n\t\t\tsetAttributes({ link: join_link_url });\n\t\t}\n\t\tif (!text) {\n\t\t\tsetAttributes({ text: join_link_text });\n\t\t}\n\t}, []);\n\n\tconst onChangeChannelLink = useCallback(\n\t\t(newValue: string) => setAttributes({ link: newValue }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeButtonText = useCallback(\n\t\t(newValue: string) => setAttributes({ text: newValue }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeAlign = useCallback(\n\t\t(align: JoinChannelAtts['alignment']) =>\n\t\t\tsetAttributes({ alignment: align }),\n\t\t[setAttributes],\n\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls key=\"controls\">\n\t\t\t\t<PanelBody title={__('Button details')}>\n\t\t\t\t\t<Flex direction=\"column\" gap={4}>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Channel Link')}\n\t\t\t\t\t\t\tvalue={link || ''}\n\t\t\t\t\t\t\tonChange={onChangeChannelLink}\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Button text')}\n\t\t\t\t\t\t\tvalue={text || ''}\n\t\t\t\t\t\t\tonChange={onChangeButtonText}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Flex>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockAlignmentToolbar value={alignment} onChange={onChangeAlign} />\n\t\t\t</BlockControls>\n\t\t</Fragment>\n\t);\n};\n","import { G, Path, SVG } from '@wordpress/components';\n\nexport const TelegramIcon = ({ fill = '#ffffff' }) => {\n\treturn (\n\t\t<SVG width=\"19px\" height=\"16px\" viewBox=\"0 0 19 16\">\n\t\t\t<G fill=\"none\">\n\t\t\t\t<Path\n\t\t\t\t\tfill={fill}\n\t\t\t\t\td=\"M0.465,6.638 L17.511,0.073 C18.078,-0.145 18.714,0.137 18.932,0.704 C19.009,0.903 19.026,1.121 18.981,1.33 L16.042,15.001 C15.896,15.679 15.228,16.111 14.549,15.965 C14.375,15.928 14.211,15.854 14.068,15.748 L8.223,11.443 C7.874,11.185 7.799,10.694 8.057,10.345 C8.082,10.311 8.109,10.279 8.139,10.249 L14.191,4.322 C14.315,4.201 14.317,4.002 14.195,3.878 C14.091,3.771 13.926,3.753 13.8,3.834 L5.602,9.138 C5.112,9.456 4.502,9.528 3.952,9.333 L0.486,8.112 C0.077,7.967 -0.138,7.519 0.007,7.11 C0.083,6.893 0.25,6.721 0.465,6.638 Z\"\n\t\t\t\t/>\n\t\t\t</G>\n\t\t</SVG>\n\t);\n};\n","import { Button } from '@wordpress/components';\nimport { TelegramIcon } from './TelegramIcon';\n\nexport type JoinButtonProps = {\n\tlink: string;\n\ttext: string;\n\tisEditing?: boolean;\n};\n\nexport const JoinButton: React.FC<JoinButtonProps> = ({\n\tlink,\n\ttext,\n\tisEditing,\n}) => {\n\treturn (\n\t\t<Button\n\t\t\thref={link}\n\t\t\tclassName=\"join-link\"\n\t\t\ticon={<TelegramIcon />}\n\t\t\ttarget={isEditing ? '_blank' : undefined}\n\t\t\trel=\"noopener noreferrer\"\n\t\t>\n\t\t\t{text}\n\t\t</Button>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { JoinChannelAtts } from '../types';\n\nexport const blockAttributes: Block<JoinChannelAtts>['attributes'] = {\n\tlink: {\n\t\ttype: 'string',\n\t},\n\ttext: {\n\t\ttype: 'string',\n\t},\n\talignment: {\n\t\ttype: 'string',\n\t\tdefault: 'center',\n\t},\n};\n","import { useBlockProps } from '@wordpress/block-editor';\nimport { registerBlockType } from '@wordpress/blocks';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { Controls } from './Controls';\nimport { JoinButton } from './JoinButton';\nimport { TelegramIcon } from './TelegramIcon';\n\nimport { blockAttributes } from './constants';\n\nimport './style.scss';\n\nregisterBlockType('wptelegram/widget-join-channel', {\n\tapiVersion: 3,\n\ttitle: __('Join Telegram Channel'),\n\ticon: <TelegramIcon fill=\"#555d66\" />,\n\tcategory: 'wptelegram',\n\tattributes: blockAttributes,\n\tgetEditWrapperProps: (attributes) => {\n\t\tconst { alignment } = attributes;\n\t\tif (['left', 'center', 'right', 'wide', 'full'].includes(alignment)) {\n\t\t\treturn { 'data-align': alignment };\n\t\t}\n\t\treturn { 'data-align': '' };\n\t},\n\tedit: ({ attributes, setAttributes }) => {\n\t\tconst blockProps = useBlockProps({\n\t\t\tclassName: `align${attributes.alignment}`,\n\t\t});\n\n\t\treturn (\n\t\t\t<div {...blockProps}>\n\t\t\t\t<Controls attributes={attributes} setAttributes={setAttributes} />\n\t\t\t\t<JoinButton {...attributes} isEditing />\n\t\t\t</div>\n\t\t);\n\t},\n\t// Save is handled by PHP via render_callback\n\t// because WP blocks sometimes suck big time\n\t// by failing block validation for no reason\n\t// save: null\n\t/* save: ({ attributes }) => {\n\t\tconst blockProps = useBlockProps.save();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...blockProps}\n\t\t\t\tclassName={`wp-block-wptelegram-widget-join-channel align${attributes.alignment}`}\n\t\t\t>\n\t\t\t\t<JoinButton {...attributes} />\n\t\t\t</div>\n\t\t);\n\t}, */\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t},\n\t\t},\n\t],\n});\n","module.exports = wp.compose;","module.exports = wp.url;","import {\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tToolbarButton,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wpsocio/i18n';\n\nexport type ControlsProps = {\n\tuserpic: boolean;\n\ttoggleUserPic: (value: boolean) => void;\n\tshowEditButton: boolean;\n\tswitchBackToURLInput: VoidFunction;\n\talignment: NonNullable<BlockAlignmentToolbar.Props['controls']>[number];\n\tchangeAlignment: NonNullable<BlockAlignmentToolbar.Props['onChange']>;\n};\n\nexport const Controls: React.FC<ControlsProps> = ({\n\tuserpic,\n\ttoggleUserPic,\n\tshowEditButton,\n\tswitchBackToURLInput,\n\talignment,\n\tchangeAlignment,\n}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Options')}>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={__('Author Photo')}\n\t\t\t\t\t\tchecked={userpic}\n\t\t\t\t\t\tonChange={toggleUserPic}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockAlignmentToolbar value={alignment} onChange={changeAlignment} />\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t{showEditButton && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\ttitle={__('Edit URL')}\n\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\tonClick={switchBackToURLInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t</Fragment>\n\t);\n};\n","import { Button, Placeholder as WPPlaceholder } from '@wordpress/components';\n\nimport { __ } from '@wpsocio/i18n';\n\nconst errorStyle: React.CSSProperties = { border: '2px solid #f71717' };\n\ntype PlaceholderProps = {\n\terror?: boolean;\n\tlabel: string;\n\tonChangeURL: (event: React.ChangeEvent<HTMLInputElement>) => void;\n\tonSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n\turl: string;\n};\n\nexport const Placeholder: React.FC<PlaceholderProps> = ({\n\terror,\n\tlabel,\n\tonChangeURL,\n\tonSubmit,\n\turl,\n}) => {\n\tconst style = error ? errorStyle : undefined;\n\n\treturn (\n\t\t<WPPlaceholder\n\t\t\ticon=\"wordpress-alt\"\n\t\t\tlabel={label}\n\t\t\tclassName=\"wp-block-embed-telegram\"\n\t\t>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclassName=\"components-placeholder__input\"\n\t\t\t\t\tonChange={onChangeURL}\n\t\t\t\t\tplaceholder=\"https://t.me/WPTelegram/102\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tvalue={url || ''}\n\t\t\t\t/>\n\t\t\t\t<Button type=\"submit\">{__('Embed')}</Button>\n\t\t\t</form>\n\t\t</WPPlaceholder>\n\t);\n};\n","import { useBlockProps } from '@wordpress/block-editor';\nimport type { BlockEditProps } from '@wordpress/blocks';\nimport { Spinner } from '@wordpress/components';\nimport { useFocusableIframe, useMergeRefs } from '@wordpress/compose';\nimport { Fragment, useEffect, useRef, useState } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\nimport { __ } from '@wpsocio/i18n';\nimport type { SinglePostAtts } from '../types';\nimport { Controls } from './Controls';\nimport { Placeholder } from './Placeholder';\n\nconst { message_view_url } = window.wptelegram_widget.assets;\n\nexport function Edit(props: BlockEditProps<SinglePostAtts>) {\n\tconst [iframeState, setIframeState] = useState<'loading' | 'idle' | 'error'>(\n\t\t'loading',\n\t);\n\tconst [isEditingURL, setIsEditingURL] = useState(false);\n\tconst [url, setUrl] = useState(props.attributes.url || '');\n\tconst [userpic, setUserpic] = useState<boolean>(\n\t\tprops.attributes.userpic ?? true,\n\t);\n\tconst [iframeHeight, setIframeHeight] = useState(0);\n\n\tconst { alignment, iframe_src } = props.attributes;\n\n\tconst label = __('Telegram post URL');\n\n\tfunction onChangeURL(event: React.ChangeEvent<HTMLInputElement>) {\n\t\tsetUrl(event.target.value);\n\t}\n\n\tfunction updateUrl(event: React.FormEvent<HTMLFormElement>) {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tconst regex =\n\t\t\t/^(?:https?:\\/\\/)?t\\.me\\/(?<username>[a-z][a-z0-9_]{3,30}[a-z0-9])\\/(?<message_id>\\d+)$/i;\n\t\tconst match = url.match(regex);\n\t\t// validate URL\n\t\tif (null === match) {\n\t\t\tsetIframeState('error');\n\t\t} else {\n\t\t\tconst iframe_src = getIframeSrc(\n\t\t\t\tmatch.groups as {\n\t\t\t\t\tusername: string;\n\t\t\t\t\tmessage_id: string;\n\t\t\t\t},\n\t\t\t);\n\t\t\tconst { setAttributes } = props;\n\n\t\t\tsetIframeState('loading');\n\t\t\tsetIsEditingURL(false);\n\t\t\tsetAttributes({ url, iframe_src });\n\t\t}\n\t}\n\n\tfunction getIframeSrc(data: { username: string; message_id: string }) {\n\t\treturn message_view_url\n\t\t\t.replace('%username%', data.username)\n\t\t\t.replace('%message_id%', data.message_id)\n\t\t\t.replace('%userpic%', `${userpic}`);\n\t}\n\n\tfunction toggleUserPic(newValue: boolean) {\n\t\tsetIframeState('loading');\n\t\tlet { iframe_src } = props.attributes;\n\t\tiframe_src = addQueryArgs(iframe_src, { userpic: newValue });\n\t\tprops.setAttributes({ userpic: newValue, iframe_src });\n\n\t\tsetUserpic(newValue);\n\t}\n\n\tfunction onChangeAlign(align: SinglePostAtts['alignment']) {\n\t\tresizeIframe();\n\t\tprops.setAttributes({ alignment: align });\n\t}\n\tconst iframeRef = useRef<HTMLIFrameElement | null>();\n\tconst ref = useMergeRefs([iframeRef, useFocusableIframe()]);\n\n\tfunction resizeIframe() {\n\t\tif (\n\t\t\tnull === iframeRef?.current ||\n\t\t\t'undefined' === typeof iframeRef?.current?.contentWindow\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst iframe_height =\n\t\t\tiframeRef?.current?.contentWindow?.document.body.scrollHeight;\n\t\tif (iframe_height !== iframeHeight) {\n\t\t\tsetIframeHeight(iframe_height || 0);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('resize', resizeIframe);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', resizeIframe);\n\t\t};\n\t}, []);\n\n\tif (isEditingURL || !iframe_src) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tlabel={label}\n\t\t\t\terror={iframeState === 'error'}\n\t\t\t\turl={url}\n\t\t\t\tonChangeURL={onChangeURL}\n\t\t\t\tonSubmit={updateUrl}\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst iframe_height = iframeState === 'loading' ? 0 : iframeHeight;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Controls\n\t\t\t\tuserpic={userpic}\n\t\t\t\ttoggleUserPic={toggleUserPic}\n\t\t\t\tshowEditButton\n\t\t\t\tswitchBackToURLInput={() => setIsEditingURL(true)}\n\t\t\t\talignment={alignment}\n\t\t\t\tchangeAlignment={onChangeAlign}\n\t\t\t/>\n\t\t\t{iframeState === 'loading' && (\n\t\t\t\t<div className=\"wp-block-embed is-loading\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t\t<p>{__('Loadingâ€¦')}</p>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div\n\t\t\t\t{...useBlockProps()}\n\t\t\t\tclassName={`${useBlockProps().className} wptelegram-widget-message`}\n\t\t\t>\n\t\t\t\t<div className={'wp-block-embed__content-wrapper'}>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tsrc={iframe_src}\n\t\t\t\t\t\tonLoad={() => {\n\t\t\t\t\t\t\tsetIframeState('idle');\n\t\t\t\t\t\t\tresizeIframe();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\theight={iframe_height}\n\t\t\t\t\t\ttitle={__('Telegram post')}\n\t\t\t\t\t>\n\t\t\t\t\t\tYour Browser Does Not Support iframes!\n\t\t\t\t\t</iframe>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n}\n","import type { Block } from '@wordpress/blocks';\n\nimport type { SinglePostAtts } from '../types';\n\nexport const blockAttributes: Block<SinglePostAtts>['attributes'] = {\n\turl: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\tiframe_src: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\tuserpic: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\talignment: {\n\t\ttype: 'string',\n\t\tdefault: 'center',\n\t},\n};\n","import { registerBlockType } from '@wordpress/blocks';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { Edit } from './Edit';\nimport { blockAttributes } from './constants';\n\nregisterBlockType('wptelegram/widget-single-post', {\n\tapiVersion: 3,\n\ttitle: __('Telegram Single Post'),\n\ticon: 'format-aside',\n\tcategory: 'wptelegram',\n\tgetEditWrapperProps: (attributes) => {\n\t\tconst { alignment } = attributes;\n\t\tif (['left', 'center', 'right', 'wide', 'full'].includes(alignment)) {\n\t\t\treturn { 'data-align': alignment.toString() };\n\t\t}\n\t\treturn { 'data-align': '' };\n\t},\n\tattributes: blockAttributes,\n\n\tedit: Edit,\n\n\tsave: ({ attributes }) => {\n\t\tconst { alignment, iframe_src } = attributes;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`wp-block-wptelegram-widget-single-post wptelegram-widget-message align${alignment}`}\n\t\t\t>\n\t\t\t\t<iframe title={__('Telegram post')} src={iframe_src}>\n\t\t\t\t\tYour Browser Does Not Support iframes!\n\t\t\t\t</iframe>\n\t\t\t</div>\n\t\t);\n\t},\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave: ({ attributes }) => {\n\t\t\t\tconst { alignment, iframe_src } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`wp-block-wptelegram-widget-single-post wptelegram-widget-message align${alignment}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<iframe src={iframe_src} title={__('Telegram post')}>\n\t\t\t\t\t\t\tYour Browser Does Not Support iframes!\n\t\t\t\t\t\t</iframe>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n});\n"],"names":["_wordpress_blockEditor","_wordpress_blocks","_wordpress_components","_wordpress_element","buildShortCodeFromAtts","attributes","allowedAtts","shrotcode","attsKV","filter","att","map","atts","length","join","shortcode","Output","savedSettings","window","wptelegram_widget","Edit","setAttributes","widget_width","widget_height","username","onChangeWidth","useCallback","newWidth","onChangeHeight","newHeight","onChangeUsername","newUsername","replace","jsxs","Fragment","jsx","InspectorControls","PanelBody","__","Flex","TextControl","sprintf","useBlockProps","Dashicon","blockAttributes","type","default","registerBlockType","apiVersion","title","icon","category","edit","save","getAuthorPhotoOptions","label","value","author_photo","num_messages","onChangeAuthorPhoto","newStyle","onChangeNum","newValue","Number","parseInt","toString","RadioControl","createElement","getDomData","key","getPluginData","Controls","alignment","link","text","join_link_text","join_link_url","useEffect","onChangeChannelLink","onChangeButtonText","onChangeAlign","align","BlockControls","BlockAlignmentToolbar","TelegramIcon","fill","SVG","G","Path","JoinButton","isEditing","Button","undefined","getEditWrapperProps","includes","blockProps","className","deprecated","_wordpress_compose","_wordpress_url","userpic","toggleUserPic","showEditButton","switchBackToURLInput","changeAlignment","ToggleControl","ToolbarGroup","ToolbarButton","errorStyle","border","Placeholder","error","onChangeURL","onSubmit","url","style","WPPlaceholder","message_view_url","assets","props","iframeState","setIframeState","useState","isEditingURL","setIsEditingURL","setUrl","setUserpic","iframeHeight","setIframeHeight","iframe_src","event","target","updateUrl","preventDefault","regex","match","getIframeSrc","groups","data","message_id","addQueryArgs","resizeIframe","iframeRef","useRef","ref","useMergeRefs","useFocusableIframe","current","contentWindow","iframe_height","document","body","scrollHeight","addEventListener","removeEventListener","Spinner"],"mappings":"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","x_google_ignoreList":[0,1,2,3,19,20]}