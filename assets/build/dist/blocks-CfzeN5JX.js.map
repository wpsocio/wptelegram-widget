{"version":3,"file":"blocks-CfzeN5JX.js","sources":["../../../../../../packages/js/utilities/blocks.ts","../../../../js/blocks/ajax-channel-feed/Output.tsx","../../../../js/blocks/ajax-channel-feed/Edit.tsx","../../../../js/blocks/ajax-channel-feed/constants.ts","../../../../js/blocks/ajax-channel-feed/index.tsx","../../../../js/blocks/channel-feed/Output.tsx","../../../../js/blocks/channel-feed/Edit.tsx","../../../../js/blocks/channel-feed/constants.ts","../../../../js/blocks/channel-feed/index.tsx","../../../../js/blocks/useData.ts","../../../../js/blocks/join-channel/Controls.tsx","../../../../js/blocks/join-channel/TelegramIcon.tsx","../../../../js/blocks/join-channel/JoinButton.tsx","../../../../js/blocks/join-channel/constants.ts","../../../../js/blocks/join-channel/index.tsx","../../../../js/blocks/single-post/Controls.tsx","../../../../js/blocks/single-post/Placeholder.tsx","../../../../js/blocks/single-post/Edit.tsx","../../../../js/blocks/single-post/constants.ts","../../../../js/blocks/single-post/index.tsx"],"sourcesContent":["export const buildShortCodeFromAtts = (\n\tattributes: Record<string, unknown>,\n\tallowedAtts: Array<string>,\n\tshrotcode: string,\n): string => {\n\tconst attsKV = allowedAtts\n\t\t.filter((att) => attributes?.[att])\n\t\t.map((att) => `${att}=\"${attributes[att]}\"`);\n\n\tconst atts = attsKV.length ? ` ${attsKV.join(' ')}` : '';\n\n\treturn `[${shrotcode} ${atts}]`;\n};\n","import { buildShortCodeFromAtts } from '@wpsocio/utilities/blocks';\n\nconst allowedAtts = ['widget_width', 'widget_height', 'username'];\nconst shortcode = 'wptelegram-ajax-widget';\n\nexport const Output: React.FC<{ attributes: Record<string, string | number> }> =\n\t({ attributes }) => {\n\t\treturn <>{buildShortCodeFromAtts(attributes, allowedAtts, shortcode)}</>;\n\t};\n","import { InspectorControls } from '@wordpress/block-editor';\nimport type { BlockEditProps } from '@wordpress/blocks';\nimport { Dashicon, PanelBody, TextControl } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\nimport { __, sprintf } from '@wpsocio/i18n';\n\nimport type { AjaxWidgetAtts } from '../types';\nimport { Output } from './Output';\n\nconst savedSettings = (window.wptelegram_widget?.savedSettings ||\n\t{}) as AjaxWidgetAtts;\n\nexport const Edit: React.FC<BlockEditProps<AjaxWidgetAtts>> = ({\n\tattributes,\n\tsetAttributes,\n\tclassName,\n}) => {\n\tconst { widget_width, widget_height, username } = attributes;\n\n\tconst onChangeWidth = useCallback(\n\t\t(newWidth: string) => setAttributes({ widget_width: newWidth }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeHeight = useCallback(\n\t\t(newHeight: string) => setAttributes({ widget_height: newHeight }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeUsername = useCallback(\n\t\t(newUsername: string) =>\n\t\t\tsetAttributes({ username: newUsername?.replace('@', '') }),\n\t\t[setAttributes],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Widget Options')}>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Username')}\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\tonChange={onChangeUsername}\n\t\t\t\t\t\thelp={sprintf(\n\t\t\t\t\t\t\t'%s %s',\n\t\t\t\t\t\t\t__('Channel username.'),\n\t\t\t\t\t\t\t__('Leave empty for default.'),\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tplaceholder={savedSettings?.username || 'WPTelegram'}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Widget Width')}\n\t\t\t\t\t\tvalue={widget_width}\n\t\t\t\t\t\tonChange={onChangeWidth}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Widget Height')}\n\t\t\t\t\t\tvalue={widget_height}\n\t\t\t\t\t\tonChange={onChangeHeight}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className={className}>\n\t\t\t\t<label>\n\t\t\t\t\t<Dashicon icon=\"shortcode\" />\n\t\t\t\t\t<span>{__('Telegram Channel Ajax Feed')}</span>\n\t\t\t\t</label>\n\t\t\t\t<code className=\"widget-shortcode\">\n\t\t\t\t\t<Output attributes={attributes} />\n\t\t\t\t</code>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { AjaxWidgetAtts } from '../types';\n\nexport const blockAttributes: Block<AjaxWidgetAtts>['attributes'] = {\n\tusername: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\twidget_width: {\n\t\ttype: 'string',\n\t\tdefault: '100%',\n\t},\n\twidget_height: {\n\t\ttype: 'string',\n\t\tdefault: '600',\n\t},\n};\n","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wpsocio/i18n';\n\nimport type { AjaxWidgetAtts } from '../types';\nimport { Edit } from './Edit';\nimport { Output } from './Output';\nimport { blockAttributes } from './constants';\n\nimport './style.scss';\n\nregisterBlockType<AjaxWidgetAtts>('wptelegram/widget-ajax-channel-feed', {\n\ttitle: __('Telegram Channel Ajax Feed'),\n\ticon: 'format-aside',\n\tcategory: 'wptelegram',\n\tattributes: blockAttributes,\n\tedit: Edit,\n\tsave: ({ attributes }) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Output attributes={attributes} />\n\t\t\t</div>\n\t\t);\n\t},\n});\n","import { buildShortCodeFromAtts } from '@wpsocio/utilities/blocks';\n\nconst allowedAtts = ['author_photo', 'num_messages', 'widget_width'];\nconst shortcode = 'wptelegram-widget';\n\nexport const Output: React.FC<{ attributes: Record<string, string | number> }> =\n\t({ attributes }) => {\n\t\treturn <>{buildShortCodeFromAtts(attributes, allowedAtts, shortcode)}</>;\n\t};\n","import { InspectorControls } from '@wordpress/block-editor';\nimport type { BlockEditProps } from '@wordpress/blocks';\nimport {\n\tDashicon,\n\tPanelBody,\n\tRadioControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport type { LegacyWidgetAtts } from '../types';\nimport { Output } from './Output';\n\nconst getAuthorPhotoOptions = () => [\n\t{ label: 'Auto', value: 'auto' },\n\t{ label: 'Always show', value: 'always_show' },\n\t{ label: 'Always hide', value: 'always_hide' },\n];\n\nexport const Edit: React.FC<BlockEditProps<LegacyWidgetAtts>> = ({\n\tattributes,\n\tsetAttributes,\n\tclassName,\n}) => {\n\tconst { widget_width, author_photo, num_messages } = attributes;\n\n\tconst onChangeAuthorPhoto = useCallback(\n\t\t(newStyle: string) =>\n\t\t\tsetAttributes({\n\t\t\t\tauthor_photo: newStyle as LegacyWidgetAtts['author_photo'],\n\t\t\t}),\n\t\t[setAttributes],\n\t);\n\tconst onChangeWidth = useCallback(\n\t\t(newWidth: string) =>\n\t\t\tsetAttributes({\n\t\t\t\twidget_width: newWidth as LegacyWidgetAtts['widget_width'],\n\t\t\t}),\n\t\t[setAttributes],\n\t);\n\tconst onChangeNum = useCallback(\n\t\t(newValue: string) =>\n\t\t\tsetAttributes({\n\t\t\t\tnum_messages: Number.parseInt(newValue) || 5,\n\t\t\t}),\n\t\t[setAttributes],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Widget Options')}>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Widget Width')}\n\t\t\t\t\t\tvalue={widget_width}\n\t\t\t\t\t\tonChange={onChangeWidth}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"10\"\n\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t/>\n\t\t\t\t\t<RadioControl\n\t\t\t\t\t\tlabel={__('Author Photo')}\n\t\t\t\t\t\tselected={author_photo}\n\t\t\t\t\t\tonChange={onChangeAuthorPhoto}\n\t\t\t\t\t\toptions={getAuthorPhotoOptions()}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Number of Messages')}\n\t\t\t\t\t\tvalue={num_messages}\n\t\t\t\t\t\tonChange={onChangeNum}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"50\"\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div className={className} key=\"shortcode\">\n\t\t\t\t<label>\n\t\t\t\t\t<Dashicon icon=\"shortcode\" />\n\t\t\t\t\t<span>{__('Telegram Channel Feed')}</span>\n\t\t\t\t</label>\n\t\t\t\t<code className=\"widget-shortcode\">\n\t\t\t\t\t<Output attributes={attributes} />\n\t\t\t\t</code>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { LegacyWidgetAtts } from '../types';\n\nexport const blockAttributes: Block<LegacyWidgetAtts>['attributes'] = {\n\twidget_width: {\n\t\ttype: 'string',\n\t\tdefault: '100',\n\t},\n\tauthor_photo: {\n\t\ttype: 'string',\n\t\tdefault: 'auto',\n\t},\n\tnum_messages: {\n\t\ttype: 'string',\n\t\tdefault: '5',\n\t},\n};\n","import { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wpsocio/i18n';\n\nimport { Edit } from './Edit';\nimport { Output } from './Output';\nimport { blockAttributes } from './constants';\n\nimport './style.scss';\n\nregisterBlockType('wptelegram/widget-channel-feed', {\n\ttitle: __('Telegram Channel Feed'),\n\ticon: 'format-aside',\n\tcategory: 'wptelegram',\n\tattributes: blockAttributes,\n\tedit: Edit,\n\tsave: ({ attributes }) => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Output attributes={attributes} />\n\t\t\t</div>\n\t\t);\n\t},\n});\n","import { usePluginData } from '@wpsocio/services';\nimport type { WPTelegramWidgetData } from './types';\n\nexport const useData = <\n\tK extends keyof WPTelegramWidgetData | undefined = undefined,\n>(\n\tkey?: K,\n): K extends keyof WPTelegramWidgetData\n\t? WPTelegramWidgetData[K]\n\t: WPTelegramWidgetData => {\n\treturn usePluginData('wptelegram_widget', key);\n};\n","import {\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport { PanelBody, TextControl } from '@wordpress/components';\nimport { Fragment, useCallback, useEffect } from '@wordpress/element';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { JoinChannelAtts } from '../types';\nimport { useData } from '../useData';\n\nexport type ControlsProps = {\n\tsetAttributes: (newAttributes: Partial<JoinChannelAtts>) => void;\n\tattributes: JoinChannelAtts;\n};\n\nexport const Controls: React.FC<ControlsProps> = ({\n\tsetAttributes,\n\tattributes,\n}) => {\n\tconst { alignment, link, text } = attributes;\n\n\tconst { join_link_text, join_link_url } = useData('uiData');\n\n\tuseEffect(() => {\n\t\tif (!link) {\n\t\t\tsetAttributes({ link: join_link_url });\n\t\t}\n\t\tif (!text) {\n\t\t\tsetAttributes({ text: join_link_text });\n\t\t}\n\t}, []);\n\n\tconst onChangeChannelLink = useCallback(\n\t\t(newValue: string) => setAttributes({ link: newValue }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeButtonText = useCallback(\n\t\t(newValue: string) => setAttributes({ text: newValue }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeAlign = useCallback(\n\t\t(align: JoinChannelAtts['alignment']) =>\n\t\t\tsetAttributes({ alignment: align }),\n\t\t[setAttributes],\n\t);\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls key=\"controls\">\n\t\t\t\t<PanelBody title={__('Button details')}>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Channel Link')}\n\t\t\t\t\t\tvalue={link || ''}\n\t\t\t\t\t\tonChange={onChangeChannelLink}\n\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Button text')}\n\t\t\t\t\t\tvalue={text || ''}\n\t\t\t\t\t\tonChange={onChangeButtonText}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockAlignmentToolbar value={alignment} onChange={onChangeAlign} />\n\t\t\t</BlockControls>\n\t\t</Fragment>\n\t);\n};\n","import { G, Path, SVG } from '@wordpress/components';\n\nexport const TelegramIcon = ({ fill = '#ffffff' }) => {\n\treturn (\n\t\t<SVG width=\"19px\" height=\"16px\" viewBox=\"0 0 19 16\">\n\t\t\t<G fill=\"none\">\n\t\t\t\t<Path\n\t\t\t\t\tfill={fill}\n\t\t\t\t\td=\"M0.465,6.638 L17.511,0.073 C18.078,-0.145 18.714,0.137 18.932,0.704 C19.009,0.903 19.026,1.121 18.981,1.33 L16.042,15.001 C15.896,15.679 15.228,16.111 14.549,15.965 C14.375,15.928 14.211,15.854 14.068,15.748 L8.223,11.443 C7.874,11.185 7.799,10.694 8.057,10.345 C8.082,10.311 8.109,10.279 8.139,10.249 L14.191,4.322 C14.315,4.201 14.317,4.002 14.195,3.878 C14.091,3.771 13.926,3.753 13.8,3.834 L5.602,9.138 C5.112,9.456 4.502,9.528 3.952,9.333 L0.486,8.112 C0.077,7.967 -0.138,7.519 0.007,7.11 C0.083,6.893 0.25,6.721 0.465,6.638 Z\"\n\t\t\t\t/>\n\t\t\t</G>\n\t\t</SVG>\n\t);\n};\n","import { Button } from '@wordpress/components';\nimport { TelegramIcon } from './TelegramIcon';\n\nexport type JoinButtonProps = {\n\tlink: string;\n\ttext: string;\n\tisEditing?: boolean;\n};\n\nexport const JoinButton: React.FC<JoinButtonProps> = ({\n\tlink,\n\ttext,\n\tisEditing,\n}) => {\n\treturn (\n\t\t<Button\n\t\t\thref={link}\n\t\t\tclassName=\"join-link\"\n\t\t\ticon={<TelegramIcon />}\n\t\t\ttarget={isEditing ? '_blank' : undefined}\n\t\t\trel=\"noopener noreferrer\"\n\t\t>\n\t\t\t{text}\n\t\t</Button>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { JoinChannelAtts } from '../types';\n\nexport const blockAttributes: Block<JoinChannelAtts>['attributes'] = {\n\tlink: {\n\t\ttype: 'string',\n\t},\n\ttext: {\n\t\ttype: 'string',\n\t},\n\talignment: {\n\t\ttype: 'string',\n\t\tdefault: 'center',\n\t},\n};\n","import { useBlockProps } from '@wordpress/block-editor';\nimport { registerBlockType } from '@wordpress/blocks';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { Controls } from './Controls';\nimport { JoinButton } from './JoinButton';\nimport { TelegramIcon } from './TelegramIcon';\n\nimport { blockAttributes } from './constants';\n\nimport './style.scss';\n\nregisterBlockType('wptelegram/widget-join-channel', {\n\tapiVersion: 3,\n\ttitle: __('Join Telegram Channel'),\n\ticon: <TelegramIcon fill=\"#555d66\" />,\n\tcategory: 'wptelegram',\n\tattributes: blockAttributes,\n\tgetEditWrapperProps: (attributes) => {\n\t\tconst { alignment } = attributes;\n\t\tif (['left', 'center', 'right', 'wide', 'full'].includes(alignment)) {\n\t\t\treturn { 'data-align': alignment };\n\t\t}\n\t\treturn { 'data-align': '' };\n\t},\n\tedit: ({ attributes, setAttributes }) => {\n\t\tconst blockProps = useBlockProps({\n\t\t\tclassName: `align${attributes.alignment}`,\n\t\t});\n\n\t\treturn (\n\t\t\t<div {...blockProps}>\n\t\t\t\t<Controls attributes={attributes} setAttributes={setAttributes} />\n\t\t\t\t<JoinButton {...attributes} isEditing />\n\t\t\t</div>\n\t\t);\n\t},\n\t// Save is handled by PHP via render_callback\n\t// because WP blocks sometimes suck big time\n\t// by failing block validation for no reason\n\t// save: null\n\t/* save: ({ attributes }) => {\n\t\tconst blockProps = useBlockProps.save();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...blockProps}\n\t\t\t\tclassName={`wp-block-wptelegram-widget-join-channel align${attributes.alignment}`}\n\t\t\t>\n\t\t\t\t<JoinButton {...attributes} />\n\t\t\t</div>\n\t\t);\n\t}, */\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave() {\n\t\t\t\treturn null;\n\t\t\t},\n\t\t},\n\t],\n});\n","import {\n\tBlockAlignmentToolbar,\n\tBlockControls,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tToggleControl,\n\tToolbarButton,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\nimport { __ } from '@wpsocio/i18n';\n\nexport type ControlsProps = {\n\tuserpic: boolean;\n\ttoggleUserPic: VoidFunction;\n\tshowEditButton: boolean;\n\tswitchBackToURLInput: VoidFunction;\n\talignment: NonNullable<BlockAlignmentToolbar.Props['controls']>[number];\n\tchangeAlignment: NonNullable<BlockAlignmentToolbar.Props['onChange']>;\n};\n\nexport const Controls: React.FC<ControlsProps> = (props) => {\n\tconst {\n\t\tuserpic,\n\t\ttoggleUserPic,\n\t\tshowEditButton,\n\t\tswitchBackToURLInput,\n\t\talignment,\n\t\tchangeAlignment,\n\t} = props;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Options')}>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={__('Author Photo')}\n\t\t\t\t\t\tchecked={userpic}\n\t\t\t\t\t\tonChange={toggleUserPic}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls>\n\t\t\t\t<BlockAlignmentToolbar value={alignment} onChange={changeAlignment} />\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t{showEditButton && (\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tclassName=\"components-toolbar__control\"\n\t\t\t\t\t\t\ttitle={__('Edit URL')}\n\t\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\t\tonClick={switchBackToURLInput}\n\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t</Fragment>\n\t);\n};\n","import { Button, Placeholder as WPPlaceholder } from '@wordpress/components';\n\nimport { __ } from '@wpsocio/i18n';\n\nconst errorStyle: React.CSSProperties = { border: '2px solid #f71717' };\n\ntype PlaceholderProps = {\n\terror?: boolean;\n\tlabel: string;\n\tonChangeURL: (event: React.ChangeEvent<HTMLInputElement>) => void;\n\tonSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n\turl: string;\n};\n\nexport const Placeholder: React.FC<PlaceholderProps> = ({\n\terror,\n\tlabel,\n\tonChangeURL,\n\tonSubmit,\n\turl,\n}) => {\n\tconst style = error ? errorStyle : undefined;\n\n\treturn (\n\t\t<WPPlaceholder\n\t\t\ticon=\"wordpress-alt\"\n\t\t\tlabel={label}\n\t\t\tclassName=\"wp-block-embed-telegram\"\n\t\t>\n\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t<input\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclassName=\"components-placeholder__input\"\n\t\t\t\t\tonChange={onChangeURL}\n\t\t\t\t\tplaceholder=\"https://t.me/WPTelegram/102\"\n\t\t\t\t\tstyle={style}\n\t\t\t\t\ttype=\"url\"\n\t\t\t\t\tvalue={url || ''}\n\t\t\t\t/>\n\t\t\t\t<Button type=\"submit\">{__('Embed')}</Button>\n\t\t\t</form>\n\t\t</WPPlaceholder>\n\t);\n};\n","import type { BlockEditProps } from '@wordpress/blocks';\nimport { FocusableIframe, Spinner } from '@wordpress/components';\nimport { Component, Fragment, createRef } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\nimport { __ } from '@wpsocio/i18n';\nimport type { SinglePostAtts } from '../types';\nimport { Controls } from './Controls';\nimport { Placeholder } from './Placeholder';\n\nconst { message_view_url } = window.wptelegram_widget.assets;\n\ntype State = {\n\tloading: boolean;\n\teditingURL: boolean;\n\terror: boolean;\n\turl: string;\n\tuserpic: boolean;\n\tiframe_height?: number;\n};\n\nexport class Edit extends Component<BlockEditProps<SinglePostAtts>, State> {\n\tiframe_ref: React.RefObject<HTMLIFrameElement>;\n\n\tconstructor(props: BlockEditProps<SinglePostAtts>) {\n\t\tsuper(props);\n\t\tthis.iframe_ref = createRef<HTMLIFrameElement>();\n\n\t\tthis.switchBackToURLInput = this.switchBackToURLInput.bind(this);\n\t\tthis.getIframeSrc = this.getIframeSrc.bind(this);\n\t\tthis.toggleUserPic = this.toggleUserPic.bind(this);\n\t\tthis.resizeIframe = this.resizeIframe.bind(this);\n\t\tthis.setUrl = this.setUrl.bind(this);\n\t\tthis.handleOnChangeURL = this.handleOnChangeURL.bind(this);\n\t\tthis.handleOnChangeAlign = this.handleOnChangeAlign.bind(this);\n\t\tthis.onLoad = this.onLoad.bind(this);\n\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\teditingURL: false,\n\t\t\terror: false,\n\t\t\turl: this.props.attributes.url || '',\n\t\t\tuserpic: this.props.attributes.userpic || true,\n\t\t\tiframe_height: 0,\n\t\t};\n\t}\n\n\ttoggleUserPic() {\n\t\tconst userpic = !this.state.userpic;\n\t\tconst loading = true;\n\t\tlet { iframe_src } = this.props.attributes;\n\n\t\tiframe_src = addQueryArgs(iframe_src, { userpic });\n\n\t\tthis.setState({ userpic, loading });\n\t\tthis.props.setAttributes({ userpic, iframe_src });\n\t}\n\n\tsetUrl(event: React.FormEvent<HTMLFormElement>) {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tconst { url } = this.state;\n\n\t\tconst regex =\n\t\t\t/^(?:https?:\\/\\/)?t\\.me\\/(?<username>[a-z][a-z0-9_]{3,30}[a-z0-9])\\/(?<message_id>\\d+)$/i;\n\t\tconst match = url.match(regex);\n\t\t// validate URL\n\t\tif (null === match) {\n\t\t\tthis.setState({ error: true });\n\t\t} else {\n\t\t\tconst iframe_src = this.getIframeSrc(\n\t\t\t\tmatch.groups as {\n\t\t\t\t\tusername: string;\n\t\t\t\t\tmessage_id: string;\n\t\t\t\t},\n\t\t\t);\n\t\t\tconst { setAttributes } = this.props;\n\n\t\t\tthis.setState({ loading: true, editingURL: false, error: false });\n\t\t\tsetAttributes({ url, iframe_src });\n\t\t}\n\t}\n\n\tgetIframeSrc(data: { username: string; message_id: string }) {\n\t\treturn message_view_url\n\t\t\t.replace('%username%', data.username)\n\t\t\t.replace('%message_id%', data.message_id)\n\t\t\t.replace('%userpic%', `${this.state.userpic}`);\n\t}\n\n\tswitchBackToURLInput() {\n\t\tthis.setState({ editingURL: true });\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('resize', this.resizeIframe);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this.resizeIframe);\n\t}\n\n\tresizeIframe() {\n\t\tif (\n\t\t\tnull === this.iframe_ref?.current ||\n\t\t\t'undefined' === typeof this.iframe_ref.current.contentWindow\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tconst iframe_height =\n\t\t\tthis.iframe_ref?.current?.contentWindow?.document.body.scrollHeight;\n\t\tif (iframe_height !== this.state.iframe_height) {\n\t\t\tthis.setState({ iframe_height });\n\t\t}\n\t}\n\n\thandleOnChangeURL(event: React.ChangeEvent<HTMLInputElement>) {\n\t\tthis.setState({ url: event.target.value });\n\t}\n\n\thandleOnChangeAlign(align: SinglePostAtts['alignment']) {\n\t\tthis.resizeIframe();\n\t\tthis.props.setAttributes({ alignment: align });\n\t}\n\n\tonLoad() {\n\t\tthis.setState({ loading: false });\n\t\tthis.resizeIframe();\n\t}\n\n\trender() {\n\t\tconst { loading, editingURL, url, error, userpic } = this.state;\n\t\tconst { className } = this.props;\n\t\tconst { alignment, iframe_src } = this.props.attributes;\n\n\t\tconst label = __('Telegram post URL');\n\n\t\tif (editingURL || !iframe_src) {\n\t\t\treturn (\n\t\t\t\t<Placeholder\n\t\t\t\t\tlabel={label}\n\t\t\t\t\terror={error}\n\t\t\t\t\turl={url}\n\t\t\t\t\tonChangeURL={this.handleOnChangeURL}\n\t\t\t\t\tonSubmit={this.setUrl}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst iframe_height = loading ? 0 : this.state.iframe_height;\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Controls\n\t\t\t\t\tuserpic={userpic}\n\t\t\t\t\ttoggleUserPic={this.toggleUserPic}\n\t\t\t\t\tshowEditButton\n\t\t\t\t\tswitchBackToURLInput={this.switchBackToURLInput}\n\t\t\t\t\talignment={alignment}\n\t\t\t\t\tchangeAlignment={this.handleOnChangeAlign}\n\t\t\t\t/>\n\t\t\t\t{loading && (\n\t\t\t\t\t<div className=\"wp-block-embed is-loading\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t<p>{__('Loading…')}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className={`${className} wptelegram-widget-message`}>\n\t\t\t\t\t<div className={'wp-block-embed__content-wrapper'}>\n\t\t\t\t\t\t<FocusableIframe\n\t\t\t\t\t\t\tiframeRef={this.iframe_ref}\n\t\t\t\t\t\t\tsrc={iframe_src}\n\t\t\t\t\t\t\tonLoad={this.onLoad}\n\t\t\t\t\t\t\theight={iframe_height}\n\t\t\t\t\t\t\ttitle={__('Telegram post')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYour Browser Does Not Support iframes!\n\t\t\t\t\t\t</FocusableIframe>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n","import type { Block } from '@wordpress/blocks';\n\nimport type { SinglePostAtts } from '../types';\n\nexport const blockAttributes: Block<SinglePostAtts>['attributes'] = {\n\turl: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\tiframe_src: {\n\t\ttype: 'string',\n\t\tdefault: '',\n\t},\n\tuserpic: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\talignment: {\n\t\ttype: 'string',\n\t\tdefault: 'center',\n\t},\n};\n","import { registerBlockType } from '@wordpress/blocks';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { Edit } from './Edit';\nimport { blockAttributes } from './constants';\n\nregisterBlockType('wptelegram/widget-single-post', {\n\ttitle: __('Telegram Single Post'),\n\ticon: 'format-aside',\n\tcategory: 'wptelegram',\n\tgetEditWrapperProps: (attributes) => {\n\t\tconst { alignment } = attributes;\n\t\tif (['left', 'center', 'right', 'wide', 'full'].includes(alignment)) {\n\t\t\treturn { 'data-align': alignment.toString() };\n\t\t}\n\t\treturn { 'data-align': '' };\n\t},\n\tattributes: blockAttributes,\n\n\tedit: Edit,\n\n\tsave: ({ attributes }) => {\n\t\tconst { alignment, iframe_src } = attributes;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`wp-block-wptelegram-widget-single-post wptelegram-widget-message align${alignment}`}\n\t\t\t>\n\t\t\t\t<iframe title={__('Telegram post')} src={iframe_src}>\n\t\t\t\t\tYour Browser Does Not Support iframes!\n\t\t\t\t</iframe>\n\t\t\t</div>\n\t\t);\n\t},\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributes,\n\t\t\tsave: ({ attributes }) => {\n\t\t\t\tconst { alignment, iframe_src } = attributes;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`wp-block-wptelegram-widget-single-post wptelegram-widget-message align${alignment}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<iframe src={iframe_src} title={__('Telegram post')}>\n\t\t\t\t\t\t\tYour Browser Does Not Support iframes!\n\t\t\t\t\t\t</iframe>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t],\n});\n"],"names":["buildShortCodeFromAtts","attributes","allowedAtts","shrotcode","attsKV","filter","att","map","atts","length","join","shortcode","Output","savedSettings","_a","Edit","setAttributes","widget_width","widget_height","username","onChangeWidth","useCallback","newWidth","onChangeHeight","newHeight","onChangeUsername","newUsername","jsxs","Fragment","jsx","__","sprintf","className","blockAttributes","type","default","registerBlockType","getAuthorPhotoOptions","author_photo","num_messages","onChangeAuthorPhoto","newStyle","onChangeNum","newValue","useData","key","usePluginData","Controls","alignment","link","text","join_link_text","join_link_url","useEffect","onChangeChannelLink","onChangeButtonText","onChangeAlign","align","TelegramIcon","fill","JoinButton","isEditing","blockProps","useBlockProps","props","userpic","toggleUserPic","showEditButton","switchBackToURLInput","changeAlignment","errorStyle","Placeholder","error","label","onChangeURL","onSubmit","style","url","message_view_url","Component","iframe_ref","__publicField","createRef","loading","iframe_src","addQueryArgs","event","regex","match","data","window","iframe_height","_d","_c","_b","value","editingURL"],"mappings":"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"}